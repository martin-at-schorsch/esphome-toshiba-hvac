esphome:
  name: cellar-air-quality

# Enable logging

esp8266:
  board: d1_mini
logger:

# Enable Home Assistant API
api:

ota:
  platform: esphome
  password: "xxxx"

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Cellar-Air-Quality"
    password: "xxxsasddaax"

captive_portal:

external_components:
  - source: github://sermayoral/esphome@pm1006
    components: [pm1006]
    
uart:
  rx_pin: D3
  baud_rate: 9600

sensor:
  - platform: dht
    pin: D4
    temperature:
      name: "Cellar Temperature"
    humidity:
      name: "Cellar Humidity"
    model: DHT22
    update_interval: 10s
  - platform: pm1006
    pm_2_5:
      name: "Cellar Air Quality"
switch:
  - platform: restart
    name: "Cellar Air Quality Sensor Restart"
